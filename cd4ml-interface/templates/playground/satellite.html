{% extends "base_playground.html" %}
{% block content %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/satellite.css') }}">
<div class="playground-container">
  <h2>Imagem de Satélite Sentinel</h2>
  <p class="api-description">Consulta imagens recentes de satélite da região selecionada.</p>

  <h3>Entrada</h3>
  <form method="POST">
    <label>Latitude:</label>
    <input type="number" step="any" name="latitude" required>

    <label>Longitude:</label>
    <input type="number" step="any" name="longitude" required>

    <label>Data (YYYY-MM-DD):</label>
    <input type="date" name="data" required>

    <button type="submit">Buscar Imagem</button>
  </form>

  {% if prediction %}
    <h3>Resultado</h3>
    <p><strong>URL da Imagem:</strong> <a href="{{ prediction }}" target="_blank">{{ prediction }}</a></p>
    <img src="{{ prediction }}" alt="Imagem de Satélite" class="satellite-image">
  {% endif %}

  <hr>
  <h3>Documentação da API</h3>
  <p><strong>Endpoint:</strong> <code>POST /satellite</code></p>
  <p><strong>Content-Type:</strong> <code>application/x-www-form-urlencoded</code></p>

  <h4>Parâmetros</h4>
  <ul>
    <li><code>latitude</code>: float - Latitude da área de interesse</li>
    <li><code>longitude</code>: float - Longitude da área de interesse</li>
    <li><code>data</code>: string (YYYY-MM-DD) - Data da imagem desejada</li>
  </ul>

  <h4>Exemplo</h4>
  <pre><code>import requests

requests.post(
    "http://localhost:11001/satellite",
    data={
        "latitude": -20.123,
        "longitude": -47.456,
        "data": "2025-07-15"
    },
    headers={"X-API-Key": "SUA_CHAVE_AQUI"}
)</code></pre>
</div>
{% endblock %}